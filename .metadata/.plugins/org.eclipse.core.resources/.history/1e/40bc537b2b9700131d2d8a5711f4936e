package no.hig.strand.lars.mtp;

import android.content.SharedPreferences;
import android.content.SharedPreferences.OnSharedPreferenceChangeListener;
import android.os.Bundle;
import android.preference.ListPreference;
import android.preference.Preference;
import android.preference.PreferenceActivity;

@SuppressWarnings("deprecation")
public class SettingsActivity extends PreferenceActivity 
		implements OnSharedPreferenceChangeListener {

	public static final String PREF_OCCUPATION_KEY = "pref_occupation";
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		addPreferencesFromResource(R.xml.preferences);
		
		setupUI();
	}
	
	
	
	private void setupUI() {
		ListPreference pref = (ListPreference) findPreference(
				PREF_OCCUPATION_KEY);
		pref.setSummary(pref.getEntry());
	}
	
	
	
	@Override
	public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,
			String key) {
		Preference pref = findPreference(key);

	    if (pref instanceof ListPreference) {
	        ListPreference listPref = (ListPreference) pref;
	        pref.setSummary(listPref.getEntry());
	    }
	}
}
