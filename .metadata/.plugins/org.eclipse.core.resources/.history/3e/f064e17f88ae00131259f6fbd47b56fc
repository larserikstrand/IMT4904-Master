package no.hig.strand.lars.todoity.adapters;

import java.util.HashMap;
import java.util.List;

import no.hig.strand.lars.todoity.Task;
import android.content.Context;
import android.widget.ArrayAdapter;


public class TodayArrayAdapter extends ArrayAdapter<Task> {
	
	final int INVALID_ID = -1;
	
	HashMap<Task, Integer> mIdMap = new HashMap<Task, Integer>();

	public TodayArrayAdapter(Context context, int textViewResourceId, 
			List<Task> tasks) {
        super(context, textViewResourceId, tasks);
        for (int i = 0; i < tasks.size(); ++i) {
            mIdMap.put(tasks.get(i), i);
        }
    }
	
	@Override
    public long getItemId(int position) {
        if (position < 0 || position >= mIdMap.size()) {
            return INVALID_ID;
        }
        Task item = getItem(position);
        return mIdMap.get(item);
    }

    @Override
    public boolean hasStableIds() {
        return true;
    }
}
