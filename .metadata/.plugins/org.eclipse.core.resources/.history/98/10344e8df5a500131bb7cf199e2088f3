package no.hig.strand.lars.todoity.utils;

import no.hig.strand.lars.todoity.MainActivity;
import no.hig.strand.lars.todoity.OnDeletionCallback;
import no.hig.strand.lars.todoity.Task;
import android.os.AsyncTask;

public class DatabaseUtilities {

	public DatabaseUtilities() {}
	
	
	public interface OnDeletionCallback {
		public void onDeletionDone();
	}
	
	public interface OnTaskMovedCallback {
		public void onTaskMoved();
	}
	
	
	public static class UpdateTask extends AsyncTask<Task, Void, Void> {

		@Override
		protected Void doInBackground(Task... params) {
			Task task = params[0];
			MainActivity.tasksDb.updateTask(task);
			return null;
		}
	}
	
	
	
	public static class DeleteList extends AsyncTask<String, Void, Void> {
		private OnDeletionCallback callback;

		public DeleteList(OnDeletionCallback callback) {
			this.callback = callback;
		}

		@Override
		protected Void doInBackground(String... params) {
			MainActivity.tasksDb.deleteListByDate(params[0]);
			return null;
		}

		@Override
		protected void onPostExecute(Void result) {
			callback.onDeletionDone();
		}
	}
	
	
	
	public static class DeleteTask extends AsyncTask<Integer, Void, Void> {	
		private OnDeletionCallback callback;
		
		public DeleteTask(OnDeletionCallback callback) {
			this.callback = callback;
		}

		@Override
		protected Void doInBackground(Integer... params) {
			int taskId = params[0];
			MainActivity.tasksDb.deleteTaskById(taskId);
			return null;
		}

		@Override
		protected void onPostExecute(Void result) {
			callback.onDeletionDone();
		}
	}
}
